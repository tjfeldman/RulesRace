[gd_scene load_steps=12 format=3 uid="uid://df1kr1qk1gne6"]

[ext_resource type="Script" uid="uid://bavdaked06e7c" path="res://scripts/GroupRuleSelector.gd" id="1_lxafq"]
[ext_resource type="Theme" uid="uid://b1apnwye66uxq" path="res://themes/when_button.tres" id="2_bqmq2"]
[ext_resource type="ButtonGroup" uid="uid://b0f4yxvdgh8d1" path="res://btnGroups/WhenGroup.tres" id="2_ht25b"]
[ext_resource type="Theme" uid="uid://bnpru5ian53ls" path="res://themes/trigger_button.tres" id="3_1lymc"]
[ext_resource type="Script" uid="uid://dumljh5lrdy7y" path="res://scripts/RuleButtons/WhenButton.gd" id="3_bqmq2"]
[ext_resource type="ButtonGroup" uid="uid://cp7nbhge3oqis" path="res://btnGroups/TriggerGroup.tres" id="3_ptms4"]
[ext_resource type="Theme" uid="uid://cqtbbkrffjv4t" path="res://themes/effect_button.tres" id="4_ni8qs"]
[ext_resource type="ButtonGroup" uid="uid://kvsga40ro4ic" path="res://btnGroups/EffectGroup.tres" id="4_xbxke"]
[ext_resource type="Script" uid="uid://cljr32n2dqp41" path="res://scripts/RuleButtons/TriggerButton.gd" id="5_1lymc"]
[ext_resource type="Script" uid="uid://cpo4oypp633ro" path="res://scripts/RuleButtons/EffectButton.gd" id="7_ni8qs"]
[ext_resource type="LabelSettings" uid="uid://b4lhnksnvxbdi" path="res://themes/warning_label.tres" id="11_xbxke"]

[node name="GroupRuleSelector" type="CenterContainer"]
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -556.5
offset_top = -156.0
offset_right = 556.5
offset_bottom = 156.0
grow_horizontal = 2
grow_vertical = 2
script = ExtResource("1_lxafq")
whenGroup = ExtResource("2_ht25b")
triggerGroup = ExtResource("3_ptms4")
effectGroup = ExtResource("4_xbxke")

[node name="PanelContainer" type="PanelContainer" parent="."]
layout_mode = 2

[node name="MarginContainer" type="MarginContainer" parent="PanelContainer"]
layout_mode = 2
theme_override_constants/margin_left = 10
theme_override_constants/margin_top = 10
theme_override_constants/margin_right = 10
theme_override_constants/margin_bottom = 10

[node name="VBoxContainer" type="VBoxContainer" parent="PanelContainer/MarginContainer"]
layout_mode = 2

[node name="GroupRuleSelection" type="HBoxContainer" parent="PanelContainer/MarginContainer/VBoxContainer"]
layout_mode = 2

[node name="Whens" type="VBoxContainer" parent="PanelContainer/MarginContainer/VBoxContainer/GroupRuleSelection"]
layout_mode = 2
size_flags_vertical = 4

[node name="EveryPlayer" type="Button" parent="PanelContainer/MarginContainer/VBoxContainer/GroupRuleSelection/Whens"]
layout_mode = 2
theme = ExtResource("2_bqmq2")
toggle_mode = true
button_group = ExtResource("2_ht25b")
text = "Every player, on their turn"
script = ExtResource("3_bqmq2")

[node name="PrisonPlayer" type="Button" parent="PanelContainer/MarginContainer/VBoxContainer/GroupRuleSelection/Whens"]
layout_mode = 2
theme = ExtResource("2_bqmq2")
toggle_mode = true
button_group = ExtResource("2_ht25b")
text = "At any time, player(s) in prison"
script = ExtResource("3_bqmq2")
type = 1

[node name="LeadingPlayer" type="Button" parent="PanelContainer/MarginContainer/VBoxContainer/GroupRuleSelection/Whens"]
layout_mode = 2
theme = ExtResource("2_bqmq2")
toggle_mode = true
button_group = ExtResource("2_ht25b")
text = "The leading player(s), on their turn,"
script = ExtResource("3_bqmq2")
type = 2

[node name="Triggers" type="VBoxContainer" parent="PanelContainer/MarginContainer/VBoxContainer/GroupRuleSelection"]
layout_mode = 2

[node name="RollPrison" type="Button" parent="PanelContainer/MarginContainer/VBoxContainer/GroupRuleSelection/Triggers"]
layout_mode = 2
theme = ExtResource("3_1lymc")
toggle_mode = true
button_group = ExtResource("3_ptms4")
text = "If they roll Prison, they won't move to Prison, and can"
script = ExtResource("5_1lymc")

[node name="RollOne" type="Button" parent="PanelContainer/MarginContainer/VBoxContainer/GroupRuleSelection/Triggers"]
layout_mode = 2
theme = ExtResource("3_1lymc")
toggle_mode = true
button_group = ExtResource("3_ptms4")
text = "If they roll 1, they will move one space and then can"
script = ExtResource("5_1lymc")
type = 1

[node name="RollTwo" type="Button" parent="PanelContainer/MarginContainer/VBoxContainer/GroupRuleSelection/Triggers"]
layout_mode = 2
theme = ExtResource("3_1lymc")
toggle_mode = true
button_group = ExtResource("3_ptms4")
text = "If they roll 2, they will move two space and then can"
script = ExtResource("5_1lymc")
type = 2

[node name="RollThree" type="Button" parent="PanelContainer/MarginContainer/VBoxContainer/GroupRuleSelection/Triggers"]
layout_mode = 2
theme = ExtResource("3_1lymc")
toggle_mode = true
button_group = ExtResource("3_ptms4")
text = "If they roll 3, they will move three space and then can"
script = ExtResource("5_1lymc")
type = 3

[node name="GoesPrison" type="Button" parent="PanelContainer/MarginContainer/VBoxContainer/GroupRuleSelection/Triggers"]
layout_mode = 2
theme = ExtResource("3_1lymc")
toggle_mode = true
button_group = ExtResource("3_ptms4")
text = "every time another player goes to Prison, they can"
script = ExtResource("5_1lymc")
type = 4

[node name="MovesBack" type="Button" parent="PanelContainer/MarginContainer/VBoxContainer/GroupRuleSelection/Triggers"]
layout_mode = 2
theme = ExtResource("3_1lymc")
toggle_mode = true
button_group = ExtResource("3_ptms4")
text = "they can move 2 spaces backwards and then"
script = ExtResource("5_1lymc")
type = 5

[node name="DiscardTicket" type="Button" parent="PanelContainer/MarginContainer/VBoxContainer/GroupRuleSelection/Triggers"]
layout_mode = 2
theme = ExtResource("3_1lymc")
toggle_mode = true
button_group = ExtResource("3_ptms4")
text = "they can discard an escape ticket(s) and"
script = ExtResource("5_1lymc")
type = 6

[node name="ForfeitDie" type="Button" parent="PanelContainer/MarginContainer/VBoxContainer/GroupRuleSelection/Triggers"]
layout_mode = 2
theme = ExtResource("3_1lymc")
toggle_mode = true
button_group = ExtResource("3_ptms4")
text = "they can forfeit their dice roll and"
script = ExtResource("5_1lymc")
type = 7

[node name="Effects" type="VBoxContainer" parent="PanelContainer/MarginContainer/VBoxContainer/GroupRuleSelection"]
layout_mode = 2

[node name="MoveForward" type="Button" parent="PanelContainer/MarginContainer/VBoxContainer/GroupRuleSelection/Effects"]
layout_mode = 2
theme = ExtResource("4_ni8qs")
toggle_mode = true
button_group = ExtResource("4_xbxke")
text = "move one space forward"
script = ExtResource("7_ni8qs")

[node name="GainTicket" type="Button" parent="PanelContainer/MarginContainer/VBoxContainer/GroupRuleSelection/Effects"]
layout_mode = 2
theme = ExtResource("4_ni8qs")
toggle_mode = true
button_group = ExtResource("4_xbxke")
text = "gain one escape ticket"
script = ExtResource("7_ni8qs")
type = 1

[node name="TransferTicket" type="Button" parent="PanelContainer/MarginContainer/VBoxContainer/GroupRuleSelection/Effects"]
layout_mode = 2
theme = ExtResource("4_ni8qs")
toggle_mode = true
button_group = ExtResource("4_xbxke")
text = "give one escape ticket to a different player"
script = ExtResource("7_ni8qs")
type = 2

[node name="Reroll" type="Button" parent="PanelContainer/MarginContainer/VBoxContainer/GroupRuleSelection/Effects"]
layout_mode = 2
theme = ExtResource("4_ni8qs")
toggle_mode = true
button_group = ExtResource("4_xbxke")
text = "roll the dice again"
script = ExtResource("7_ni8qs")
type = 3

[node name="JumpAhead" type="Button" parent="PanelContainer/MarginContainer/VBoxContainer/GroupRuleSelection/Effects"]
layout_mode = 2
theme = ExtResource("4_ni8qs")
toggle_mode = true
button_group = ExtResource("4_xbxke")
text = "move to the space of the player in front of them"
script = ExtResource("7_ni8qs")
type = 4

[node name="MoveBack" type="Button" parent="PanelContainer/MarginContainer/VBoxContainer/GroupRuleSelection/Effects"]
layout_mode = 2
theme = ExtResource("4_ni8qs")
toggle_mode = true
button_group = ExtResource("4_xbxke")
text = "move one space backward"
script = ExtResource("7_ni8qs")
type = 5

[node name="SpecialDie" type="Button" parent="PanelContainer/MarginContainer/VBoxContainer/GroupRuleSelection/Effects"]
layout_mode = 2
theme = ExtResource("4_ni8qs")
toggle_mode = true
button_group = ExtResource("4_xbxke")
text = "roll the special die"
script = ExtResource("7_ni8qs")
type = 6

[node name="SendBack" type="Button" parent="PanelContainer/MarginContainer/VBoxContainer/GroupRuleSelection/Effects"]
layout_mode = 2
theme = ExtResource("4_ni8qs")
toggle_mode = true
button_group = ExtResource("4_xbxke")
text = "send one other player one space backward"
script = ExtResource("7_ni8qs")
type = 7

[node name="ConfirmBtn" type="Button" parent="PanelContainer/MarginContainer/VBoxContainer"]
visible = false
layout_mode = 2
text = "Confirm New Group Rule"

[node name="SameRuleWarningLabel" type="Label" parent="PanelContainer/MarginContainer/VBoxContainer"]
visible = false
layout_mode = 2
text = "The selected group rule is the same as the one currently active. You must select a new group rule."
label_settings = ExtResource("11_xbxke")
horizontal_alignment = 1

[node name="IncompleteRuleWarningLabel" type="Label" parent="PanelContainer/MarginContainer/VBoxContainer"]
visible = false
layout_mode = 2
text = "A group rule is only valid when a rule in each category is selected."
label_settings = ExtResource("11_xbxke")
horizontal_alignment = 1

[connection signal="pressed" from="PanelContainer/MarginContainer/VBoxContainer/ConfirmBtn" to="." method="_on_confirm_btn_pressed"]
